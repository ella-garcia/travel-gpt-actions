openapi: 3.1.0
info:
  title: YouTube Search Action
  version: "1.0.0"
  description: >
    Searches YouTube for embeddable, public videos via a hosted endpoint.
    Returns only playable, public, embeddable content for use in Michelin Travel GPT.

servers:
  - url: https://travel-gpt-actions.vercel.app/api  # Correct: No trailing slash, points to /api

paths:
  /youtube:
    get:
      operationId: search_youtube_vlogs
      summary: Search YouTube for food/travel vlogs
      description: >
        Calls your hosted YouTube search API endpoint. Filters out non-public and non-embeddable videos automatically.
      parameters:
        - in: query
          name: q
          required: true
          schema:
            type: string
          description: Search query, e.g. "Disfrutar Barcelona Michelin vlog"
        - in: query
          name: maxResults
          required: false
          schema:
            type: integer
            default: 5
          description: Number of results to fetch (default 5)
      responses:
        "200":
          description: A JSON list of public, embeddable YouTube videos
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: object
                          properties:
                            videoId:
                              type: string
                        snippet:
                          type: object
                          properties:
                            title:
                              type: string
                            description:
                              type: string
                            thumbnails:
                              type: object
                              properties:
                                default:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                medium:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                high:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                            channelTitle:
                              type: string
