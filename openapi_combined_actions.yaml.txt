openapi: 3.1.0
info:
  title: Michelin Travel GPT Combined Actions
  version: 1.0.0
  description: >
    Combined OpenAPI specification for the Michelin Travel GPT custom assistant.
    Includes both YouTube Search and Google Places proxy endpoints hosted on the same domain.

servers:
  - url: https://travel-gpt-actions.vercel.app/api

paths:
  /youtube:
    get:
      operationId: search_youtube_vlogs
      summary: Search YouTube for food/travel vlogs
      description: >
        Calls your hosted YouTube search API endpoint. Filters out non-public and non-embeddable videos automatically.
      parameters:
        - in: query
          name: q
          required: true
          schema:
            type: string
          description: Search query, e.g., "Disfrutar Barcelona Michelin vlog"
        - in: query
          name: maxResults
          required: false
          schema:
            type: integer
            default: 5
          description: Number of results to fetch (default 5)
      responses:
        "200":
          description: A JSON list of public, embeddable YouTube videos
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: object
                          properties:
                            videoId:
                              type: string
                        snippet:
                          type: object
                          properties:
                            title:
                              type: string
                            description:
                              type: string
                            thumbnails:
                              type: object
                              properties:
                                default:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                medium:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                high:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                            channelTitle:
                              type: string

  /google-places:
    get:
      operationId: find_place_from_text
      summary: Find a place by text query (proxy)
      description: >
        Uses your Vercel proxy to fetch Google Places data without exposing the API key.
      parameters:
        - in: query
          name: input
          required: true
          schema:
            type: string
          description: Search text, e.g., "Disfrutar Barcelona"
        - in: query
          name: inputtype
          required: false
          schema:
            type: string
            default: textquery
        - in: query
          name: fields
          required: false
          schema:
            type: string
            default: place_id,name,formatted_address
      responses:
        "200":
          description: Google Places result via proxy
          content:
            application/json:
              schema:
                type: object
                properties:
                  candidates:
                    type: array
                    items:
                      type: object
                      properties:
                        place_id:
                          type: string
                        name:
                          type: string
                        formatted_address:
                          type: string
