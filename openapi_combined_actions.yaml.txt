openapi: 3.1.0
info:
  title: Michelin Travel GPT Combined Actions
  version: 1.1.0
  description: >
    Combined OpenAPI specification for Michelin Travel GPT.
    Includes both YouTube Search and Google Places proxy endpoints hosted on travel-gpt-actions.vercel.app/api.

servers:
  - url: https://travel-gpt-actions.vercel.app/api

paths:
  /youtube:
    get:
      operationId: search_youtube_vlogs
      summary: Search YouTube for food/travel vlogs
      description: >
        Calls your hosted YouTube search API endpoint. Filters out non-public and non-embeddable videos automatically.
      parameters:
        - in: query
          name: q
          required: true
          schema:
            type: string
          description: Search query, e.g., "Disfrutar Barcelona Michelin vlog"
        - in: query
          name: maxResults
          required: false
          schema:
            type: integer
            default: 5
          description: Number of results to fetch (default 5)
      responses:
        "200":
          description: A JSON list of public, embeddable YouTube videos
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: object
                          properties:
                            videoId:
                              type: string
                        snippet:
                          type: object
                          properties:
                            title:
                              type: string
                            description:
                              type: string
                            thumbnails:
                              type: object
                              properties:
                                default:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                medium:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                high:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                            channelTitle:
                              type: string

  /google-places:
    get:
      operationId: get_place_details_with_reviews
      summary: Get restaurant details including reviews (proxy)
      description: >
        Uses your secure Vercel proxy to retrieve Google Places data (address, phone number, website,
        opening hours, ratings, and customer reviews) without exposing the API key.
      parameters:
        - in: query
          name: input
          required: true
          schema:
            type: string
          description: Search text, e.g., "Disfrutar Barcelona"
        - in: query
          name: inputtype
          required: false
          schema:
            type: string
            default: textquery
          description: Input type â€” always "textquery".
        - in: query
          name: fields
          required: false
          schema:
            type: string
            default: place_id,name,formatted_address,formatted_phone_number,website,opening_hours,rating,reviews
          description: Optional list of fields to include in the detailed response.
      responses:
        "200":
          description: Restaurant details retrieved from the Google Places API via proxy
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      name:
                        type: string
                      formatted_address:
                        type: string
                      formatted_phone_number:
                        type: string
                      website:
                        type: string
                      rating:
                        type: number
                      opening_hours:
                        type: array
                        items:
                          type: string
                      reviews:
                        type: array
                        description: A list of up to 5 recent user reviews
                        items:
                          type: object
                          properties:
                            author_name:
                              type: string
                              description: Name of the reviewer
                            rating:
                              type: number
                              description: Rating from 1 to 5 stars
                            relative_time_description:
                              type: string
                              description: When the review was posted
                            text:
                              type: string
                              description: The review text
                            profile_photo_url:
                              type: string
                              description: URL of the reviewer's profile photo
